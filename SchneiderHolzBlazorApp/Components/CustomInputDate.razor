@typeparam T
@using System.Linq.Expressions
@inherits InputBase<DateTime>

@if (!string.IsNullOrWhiteSpace(Label))
{
	<LabelLocalizeable CssClass="@(LabelCssClass != null ? LabelCssClass : "col col-form-label")" TranslateKey="@Label"/>
}
<div class="@(InputContainerCssClass != null ? InputContainerCssClass : "col")">
	<InputDate class="@(InputCssClass != null ? InputCssClass : "form-control form-control-sm")" @bind-Value="CurrentValue" id="@Label"/>
	<ValidationMessage For="@ValidationFor"/>
</div>

@code {

	[Parameter]
	public string Label { get; set; }

	[Parameter]
	public string LabelCssClass { get; set; }

	[Parameter]
	public string InputCssClass { get; set; }

	[Parameter]
	public string InputContainerCssClass { get; set; }

	[Parameter]
	public Expression<Func<T>> ValidationFor { get; set; }


	protected override bool TryParseValueFromString(string value, out DateTime result, out string validationErrorMessage)
	{
		result = CurrentValue;
		validationErrorMessage = "";
		return true;
	}

}